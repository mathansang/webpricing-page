(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&d.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={app:0},s={app:0},a=[];function i(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d20f8f7":"325cd5fb","chunk-2d221fb8":"b798d9cd","chunk-56177c72":"478baeec","chunk-2d0c49c6":"c9921294","chunk-2d0cc813":"cf9f87d7"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-56177c72":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-2d20f8f7":"31d6cfe0","chunk-2d221fb8":"31d6cfe0","chunk-56177c72":"4ab4fa6f","chunk-2d0c49c6":"31d6cfe0","chunk-2d0cc813":"31d6cfe0"}[t]+".css",s=c.p+r,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var l=a[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===s))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===r||u===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[t],f.parentNode.removeChild(f),n(a)},f.href=s;var v=document.getElementsByTagName("head")[0];v.appendChild(f)})).then((function(){o[t]=0})));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=s[t]=[e,n]}));e.push(r[2]=a);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=s[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,n[1](d)}s[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/webpricing-page/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},5047:function(t,e,n){"use strict";n("d3b7");var r=n("bc3a"),o=n.n(r),s=o.a.create({baseURL:"/",timeout:6e3,headers:{"Content-Type":"application/json"}});s.interceptors.request.use((function(t){return t.headers["Authorization"]="Fake Token",t.headers["Access-Control-Allow-Origin"]="*",t.headers["Access-Control-Allow-Headers"]="*",t})),s.interceptors.response.use((function(t){return t}),(function(t){return console.log(t),Promise.reject(t)})),e["a"]={calculate:function(t){return console.log("request_job to server"),s.post("request_job",t)},worker_list:function(){return s.get("worker_list")},results_download:function(){return s.get("results_download")},event_count:function(t,e){return s.get("event_count",{params:{name:t,action:e}})},get_results:function(t){return s.get("get_results",{params:{job_id:t}})},enqueue_job:function(t){return s.post("job/enqueue_job",t)},job_list:function(){return s.get("job/job_list").then((function(t){return t.data}))}}},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-app-bar",{attrs:{app:"",outlined:"",color:"white",flat:""}},[n("v-toolbar-title",[t._v("Financial Calculator v0.0.1")]),n("v-spacer"),t._v(" Visit : "+t._s(t.visit_count)+" "),n("v-spacer"),n("v-dialog",{model:{value:t.worker_dialog,callback:function(e){t.worker_dialog=e},expression:"worker_dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h6 grey lighten-2"},[t._v(" Current Workers ")]),n("v-card-text",t._l(this.$store.state.workers,(function(e){return n("div",{key:e.sid},[n("v-card",{staticClass:"mx-auto",attrs:{outlined:""}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("div",{staticClass:"text-overline mb-4"},[t._v(" "+t._s(e.register_timestamp)+" ")]),n("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" ID : "+t._s(e.sid)+" ")]),n("v-list-item-subtitle",[t._v(" Calculation : "+t._s(e.type_list)+" ")])],1)],1)],1)],1)})),0),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.refresh_workers()}}},[t._v(" Refresh ")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.worker_dialog=!1}}},[t._v(" Close ")])],1)],1)],1),n("div",{on:{click:function(e){return t.show_workers_info()}}},[this.$store.state.workers.length>0?n("v-badge",{attrs:{content:this.$store.state.workers.length,color:"green",overlap:""}},[n("v-icon",{attrs:{large:""}},[t._v(" mdi-account ")])],1):t._e(),0==this.$store.state.workers.length?n("v-icon",{attrs:{large:"",color:"red"}},[t._v(" mdi-account-cancel ")]):t._e()],1)],1),n("v-main",{staticClass:"grey lighten-3"},[n("v-container",{attrs:{fluid:""}},[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"3"}},[n("v-sheet",{attrs:{outlined:"",rounded:"lg"}},[n("v-list",{attrs:{color:"transparent"}},t._l(t.pricing_items,(function(e){return n("v-list-item",{key:e.name,attrs:{dense:"",to:e.to,link:""}},[n("v-list-item-content",[n("v-list-item-title",[t._v(" "+t._s(e.title)+" ")])],1)],1)})),1)],1)],1),n("v-col",{attrs:{cols:"12",sm:"5"}},[n("v-container",[n("v-row",{directives:[{name:"show",rawName:"v-show",value:void 0!=this.$route.name,expression:"this.$route.name != undefined"}],staticClass:"text-center",attrs:{dense:"",justify:"end"}},[n("v-col",[n("v-dialog",{attrs:{width:"500"},model:{value:t.inputs_json_dialog,callback:function(e){t.inputs_json_dialog=e},expression:"inputs_json_dialog"}},[n("v-card",[n("v-card-text",[n("json-viewer",{attrs:{value:t.inputs_json,"expand-depth":5,copyable:""}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.inputs_json_dialog=!1}}},[t._v(" Close ")])],1)],1)],1),n("v-btn",{attrs:{elevation:"2"},on:{click:function(e){return t.show_inputs_json()}}},[t._v(" Inputs Json ")])],1),n("v-col",[n("v-btn",{attrs:{disabled:0==this.$store.state.workers,elevation:"2"},on:{click:t.calculate}},[t._v(" Calculate ")])],1)],1),n("v-row",[n("router-view",{ref:"input_view"})],1)],1)],1),n("v-col",{attrs:{cols:"12",sm:"4"}},[n("v-layout",{attrs:{row:""}},[n("v-row",{staticClass:"text-center",attrs:{dense:""}},[n("v-col",[n("v-btn",{attrs:{disabled:0==this.$store.state.outputs,elevation:"2"},on:{click:function(e){return t.clear_outputs()}}},[t._v(" Clear")])],1)],1),n("v-container",t._l(this.$store.state.outputs,(function(e,r){return n("v-row",{key:e.job_id},[n("v-col",[n("div",[n("v-dialog",{model:{value:t.link_dialog,callback:function(e){t.link_dialog=e},expression:"link_dialog"}},[n("v-card",[n("v-card-text",[t._v(" Link ----------------- ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.link_dialog=!1}}},[t._v(" Close ")])],1)],1)],1),n("json-viewer",{attrs:{value:e,"expand-depth":5,copyable:"",boxed:""}}),n("v-btn",{attrs:{disabled:"waiting"!=e["status"]},on:{click:function(n){return t.results_refresh(r,e)}}},[t._v("Refresh")]),n("v-btn",{on:{click:function(n){return t.results_delete(r,e.job_id)}}},[t._v("Delete")])],1)])],1)})),1)],1)],1)],1)],1)],1)],1)},s=[],a=(n("b0c0"),n("5047")),i={data:function(){return{name:"App",worker_dialog:!1,link_dialog:!1,inputs_json_dialog:!1,inputs_json:{},visit_count:void 0,pricing_items:[{title:"Vanilla Option",to:"vanillaoption"},{title:"Single Barrier Option",to:"singlebarrieroption"}],outputs:[{job_id:"test1",test_int:1,test2_str:"1",test3:{test_test1:1e3}}]}},methods:{calculate:function(){var t=this.$refs.input_view.get_inputs();this.$store.dispatch("calculate",t),this.$refs.input_view.increase_calc_count()},show_inputs_json:function(){this.inputs_json=this.$refs.input_view.get_inputs(),this.inputs_json_dialog=!0},clear_outputs:function(){this.$store.dispatch("clear_outputs")},refresh_outputs:function(){this.$store.dispatch("refresh_outputs")},refresh_workers:function(){this.$store.dispatch("refresh_workers")},show_workers_info:function(){console.log("show_workers_info"),this.refresh_workers(),this.worker_dialog=!0,console.log(this.$store.state.workers.length)},increase_visit_count:function(){var t=this;a["a"].event_count("visit","add").then((function(e){t.visit_count=e.data["count"]}))},results_refresh:function(t,e){var n=this,r=e["job_id"];console.log("results_refresh - "+r),a["a"].get_results(r).then((function(e){var r=[t,e.data];n.$store.commit("UPDATE_OUTPUTS",r)}))},results_download:function(t){console.log("results_download - "+t),a["a"].results_download(t)},results_link:function(t){console.log("results_link - "+t),this.link_dialog=!0},results_delete:function(t,e){console.log("results_delete - "+t+" "+e),this.$store.commit("DELETE_OUTPUTS",t)}},created:function(){console.log(this.$route.name),console.log("created"),this.increase_visit_count(),this.refresh_workers()},computed:{}},c=i,l=n("2877"),u=n("6544"),d=n.n(u),f=n("7496"),v=n("40dc"),p=n("4ca6"),_=n("8336"),h=n("b0af"),g=n("99d9"),m=n("62ad"),b=n("a523"),k=n("169a"),w=n("ce7e"),j=n("132d"),y=n("a722"),T=n("8860"),C=n("da13"),O=n("5d23"),x=n("f6c4"),S=n("0fd9"),E=n("8dd9"),V=n("2fa4"),P=n("2a7f"),A=Object(l["a"])(c,o,s,!1,null,null,null),U=A.exports;d()(A,{VApp:f["a"],VAppBar:v["a"],VBadge:p["a"],VBtn:_["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:m["a"],VContainer:b["a"],VDialog:k["a"],VDivider:w["a"],VIcon:j["a"],VLayout:y["a"],VList:T["a"],VListItem:C["a"],VListItemContent:O["a"],VListItemSubtitle:O["b"],VListItemTitle:O["c"],VMain:x["a"],VRow:S["a"],VSheet:E["a"],VSpacer:V["a"],VToolbarTitle:P["a"]});var $=n("f309");r["default"].use($["a"]);var L=new $["a"]({}),D=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f"));r["default"].use(D["a"]);var R=new D["a"]({mode:"hash",base:"/webpricing-page/",routes:[{path:"/",component:function(){return n.e("chunk-2d221fb8").then(n.bind(null,"cd56"))}},{name:"Results",path:"/results",component:function(){return n.e("chunk-2d20f8f7").then(n.bind(null,"b3c3"))}},{name:"vanillaoption",path:"/vanillaoption",component:function(){return Promise.all([n.e("chunk-56177c72"),n.e("chunk-2d0c49c6")]).then(n.bind(null,"3c22"))}},{name:"singlebarrieroption",path:"/singlebarrieroption",component:function(){return Promise.all([n.e("chunk-56177c72"),n.e("chunk-2d0cc813")]).then(n.bind(null,"4de2"))}}]}),I=(n("a434"),n("07ac"),n("2f62"));r["default"].use(I["a"]);var q=new I["a"].Store({state:{outputs:[],workers:[],barColor:"rgba(0, 0, 0, .8), rgba(0, 0, 0, .8)",barImage:"https://demos.creative-tim.com/material-dashboard/assets/img/sidebar-1.jpg",drawer:null},mutations:{ADD_OUTPUTS:function(t,e){t.outputs.unshift(e)},SET_WORKERS:function(t,e){t.workers=e},DELETE_OUTPUTS:function(t,e){t.outputs.splice(e,1)},UPDATE_OUTPUTS:function(t,e){var n=e[0],r=e[1];t.outputs[n]["__results__"]=r["__results__"]},CLEAR_OUTPUTS:function(t){while(t.outputs.length>0)t.outputs.pop()}},actions:{calculate:function(t,e){console.log("calculate"),console.log(e),a["a"].calculate(e).then((function(e){console.log(e.data),t.commit("ADD_OUTPUTS",e.data)}))},clear_outputs:function(t){t.commit("CLEAR_OUTPUTS")},refresh_outputs:function(t){for(var e in t.state.outputs){var n=t.state.outputs[e];if("calculating"==n["status"]){var r=n["job_id"];a["a"].get_results(r).then((function(e){t.commit("ADD_OUTPUTS",e.data)}))}console.log("refresh_ouput - "+n["job_id"])}},refresh_workers:function(t){var e=this;a["a"].worker_list().then((function(n){t.commit("SET_WORKERS",Object.values(n.data)),console.log("refresh_workers - "+e.state.workers.length)})).catch((function(e){t.commit("SET_WORKERS",Object.values({})),console.log("refresh_workers error - "+e)}))}}}),B=n("349e"),N=n.n(B);r["default"].use(N.a),r["default"].config.productionTip=!1,new r["default"]({router:R,vuetify:L,store:q,backend:a["a"],render:function(t){return t(U)}}).$mount("#app")}});
//# sourceMappingURL=app.7c8b67d0.js.map